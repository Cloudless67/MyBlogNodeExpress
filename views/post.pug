extends layout

block post
  meta(property="og:title" content=post.title)
  meta(property="og:description" content=JSON.parse(post.body).ops[0].insert)
  script(src="https://cdn.quilljs.com/1.3.6/quill.js")
  link(href="https://cdn.quilljs.com/1.3.6/quill.snow.css" rel="stylesheet")
  link(href="/stylesheets/quill-snow-readonly.css" rel="stylesheet")
  link(rel='stylesheet', href='/stylesheets/post.css')

  article
    a(href = '/category/' + categories.find(e=> e.name === post.category).url)
      h4.category= post.category
    h1.BodyTitle= post.title
    small.BodyDateTime= post.writtentime + ` | 조회 ${post.views}`
    #editor-container= post.body

    if(session.nickname)
      .deletenedit
        form.delete-container(action = `update` method='post')
          input.delete-text(type='hidden' name='id' value=post.id)
          input(type='submit' value='수정')
        form.delete-container(action = `delete` method='post')
          input.delete-text(type='hidden' name='id' value=post.id)
          input(type='submit' value='삭제')
  
  script(src = '/scripts/quill-post.js')